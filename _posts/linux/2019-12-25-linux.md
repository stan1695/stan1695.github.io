---
title: linux 常用指令备忘录
categories:
 - linux
tags: 
 - linux
 - 指令
---

## 查看内存  

> cat /proc/meminfo  
> free -m  
> mem：表示物理内存统计
> buff/cache：表示物理内存的缓存统计  
> swap：表示硬盘上交换分区的使用情况  
> 当物理内存快被耗尽时，系统并没有崩溃，而是拿 swap 做临时内存，当两者都耗尽，系统 OutofMemory  
> 物理内存达到峰值，系统中一些不常用的进程内存占用被提到 swap 区  
> 当 Mem 区的资源进行释放时，被挪到 swap 的内存并不会全部回来，随着系统或者程序的唤醒才会慢慢回到 Mem 区  
> swap 是内存不够时，磁盘虚拟出来的内存，磁盘主要是 I/O 级别的操作，并不是系统内核级别的操作，处理速度跟 mem 区不是一个等级  
> df -h [文件夹目录]  查看当前文件挂在的文件系统使用情况

## top指令

top指令后 辅助查看

* h或者? 显示帮助画面，给出一些简短的命令总结说明。
* M 根据驻留内存大小进行排序。  
* P 根据CPU使用百分比大小进行排序。  
* T 根据时间/累计时间进行排序。  
* k 终止一个进程。系统将提示用户输入需要终止的进程PID，以及需要发送给该进程什么样的信号。一般的终止进程可以使用15信号；如果不能正常结束那就使用信号9强制结束该进程。默认值是信号15。在安全模式中此命令被屏蔽。
* c 切换显示命令名称/完整命令行。 --最后一列command 是显示命令名称还是完整命令  
* i 忽略闲置和僵死进程。这是一个开关式命令。  
* q 退出程序。  
* r 重新安排一个进程的优先级别。系统提示用户输入需要改变的进程PID以及需要设置的进程优先级值。输入一个正值将使优先级降低，反之则可以使该进程拥有更高的优先权。默认值是10。  
* S 切换到累计模式。  
* s 改变两次刷新之间的延迟时间。系统将提示用户输入新的时间，单位为s。如果有小数，就换算成m s。输入0值则系统将不断刷新，默认值是5 s。需要注意的是如果设置太小的时间，很可能会引起不断刷新，从而根本来不及看清显示的情况，而且系统负载也会大大增加。  
* f或者F 从当前显示中添加或者删除项目。  
* o或者O 改变显示项目的顺序。  
* l 切换显示平均负载和启动时间信息。  
* m 切换显示内存信息。  
* t 切换显示进程和CPU状态信息。  
* W 将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。
* top -Hp 19135 查询进程19135下的子线程

## 查看系统信息

查看cpu:  
> lscpu  
> top 然后按数字键1  
> cat /proc/version  

## less

带出行号查看文件
less -N catalina.out

* G : 跳到最后一行；g : 跳到第一行  

* /keyword　　向下查找  
n    向下匹配下一处匹配文本  
N    向上匹配下一处匹配文本

* ?keyword　　向上查找  
n    向上匹配下一处匹配文本  
N    向下匹配下一处匹配文本

## 查看压缩文件日志

* zcat say_2019-08-07_test.0.log.zip  
* zless say_2019-08-07_test.0.log.zip  
* grep --color=auto -C 1 'RepaController:62'  business.log

## 查看是否是虚拟机

dmidecode -s system-product-name

## window 指令

* netstat -aon \| findstr 1099
* taskkill -f -pid 5608

## 压缩文件

解压：tar -zvxf aaa.tar.gz
解压：tar -vxf aaa.tar